{
  "routes": [
    // 1) Open the test endpoint so you can hit it in a browser without signing in
    { "route": "/api/testing", "allowedRoles": ["anonymous"] },

    // 2) Protect all other API endpoints (SWA will require login and then pass the request)
    { "route": "/api/*", "allowedRoles": ["authenticated"] },

    // 3) Everything else in the site requires sign-in (your original rule)
    { "route": "/*", "allowedRoles": ["authenticated"] }
  ],
  "responseOverrides": {
    "401": {
      "redirect": "/.auth/login/aad",
      "statusCode": 302
    }
  }
}
